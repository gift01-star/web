<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Subscribe - PaKoNa</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    function updateAmount() {
      const duration = document.getElementById('duration').value;
      const amountMap = {
        '1-day': 899,
        '1-week': 4999,
        '1-month': 9999
      };
      document.getElementById('amount').value = amountMap[duration] || '';
    }

    function updatePaymentNumber() {
      const provider = document.getElementById('provider').value;
      const numberMap = {
        'Airtel': '099 123 4567',
        'TNM': '088 765 4321',
        'NBM': '0012345678901'
      };
      const paymentNumber = numberMap[provider] || '';
      document.getElementById('paymentNumber').textContent = paymentNumber;
      document.getElementById('paymentNumberSection').style.display = paymentNumber ? 'block' : 'none';

      // If on mobile and Airtel/TNM, make it clickable
      if (paymentNumber && (provider === 'Airtel' || provider === 'TNM')) {
        document.getElementById('paymentNumber').href = `tel:${paymentNumber.replace(/\s/g, '')}`;
      } else {
        document.getElementById('paymentNumber').removeAttribute('href');
      }
    }
  </script>
</head>
<body class="min-h-screen flex items-center justify-center bg-gradient-to-b from-pink-100 via-pink-200 to-pink-300">

  <div class="bg-white rounded-2xl shadow-lg p-8 w-full max-w-md">
    <!-- Title -->
    <h2 class="text-3xl font-bold text-pink-600 text-center mb-2">ðŸ’Ž Go Premium</h2>
    <p class="text-gray-500 text-center mb-6">Unlock unlimited swipes, boosts, and more</p>

    <form action="/payment" method="POST" class="space-y-5">
      <!-- Subscription Plan -->
      <div>
        <label for="duration" class="block text-sm font-medium text-gray-600 mb-1">Choose Subscription Plan</label>
        <select id="duration" name="duration" onchange="updateAmount()" required
          class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-pink-400 focus:outline-none">
          <option value="">-- Select Duration --</option>
          <option value="1-day">1 Day - MWK 899</option>
          <option value="1-week">1 Week - MWK 4,999</option>
          <option value="1-month">1 Month - MWK 9,999</option>
        </select>
      </div>

      <!-- Amount -->
      <div>
        <label for="amount" class="block text-sm font-medium text-gray-600 mb-1">Amount (MWK)</label>
        <input type="number" id="amount" name="amount" readonly required
          class="w-full px-4 py-3 rounded-xl bg-gray-100 border border-gray-300 focus:outline-none" />
      </div>

      <!-- Payment Method -->
      <div>
        <label for="provider" class="block text-sm font-medium text-gray-600 mb-1">Choose Payment Method</label>
        <select id="provider" name="method" onchange="updatePaymentNumber()" required
          class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-pink-400 focus:outline-none">
          <option value="">-- Select Method --</option>
          <option value="Airtel">Airtel Money</option>
          <option value="TNM">TNM Mpamba</option>
          <option value="NBM">National Bank</option>
        </select>
      </div>

      <!-- Show Payment Number -->
      <div id="paymentNumberSection" class="bg-pink-50 p-4 rounded-xl text-center border border-pink-200 hidden">
        <p class="text-sm text-gray-700 mb-1">Send payment to:</p>
        <a id="paymentNumber" href="#" class="text-lg font-bold text-pink-600"></a>
      </div>

      <!-- Phone Number -->
      <div>
        <label for="phone" class="block text-sm font-medium text-gray-600 mb-1">Your Phone Number</label>
        <input type="text" id="phone" name="phone" required
          class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-pink-400 focus:outline-none" placeholder="e.g. 099xxxxxxx" />
      </div>

      <!-- Subscribe Button -->
      <button type="submit"
        class="w-full bg-pink-500 text-white font-semibold py-3 rounded-xl shadow-md hover:bg-pink-600 transition">
        I Have Paid - Confirm Subscription
      </button>
    </form>

    <!-- Note -->
    <p class="text-xs text-gray-400 text-center mt-6">
      Payments are processed manually. Please send payment before confirming.
    </p>
  </div>

</body>
</html>
